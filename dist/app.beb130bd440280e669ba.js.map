{"version":3,"file":"app.beb130bd440280e669ba.js","sources":["webpack:///./node_modules/react-hot-loader/index.js","webpack:///src/router/Bundle.js","webpack:///./src/pages/Home/Home.js","webpack:///./src/pages/Page1/Page1.js","webpack:///./src/pages/Counter/Counter.js","webpack:///./src/pages/UserInfo/UserInfo.js","webpack:///src/redux/actions/counter.js","webpack:///src/redux/actions/userInfo.js","webpack:///src/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/react-hot-loader/dist/react-hot-loader.production.min.js","webpack:///src/redux/store.js","webpack:///./node_modules/redux-thunk/es/index.js","webpack:///src/redux/reducers.js","webpack:///src/redux/reducers/counter.js","webpack:///src/redux/reducers/userInfo.js","webpack:///src/router/router.js"],"sourcesContent":["'use strict'\n\nvar evalAllowed = false;\ntry {\n  eval('evalAllowed = true');\n} catch (e) {\n  // eval not allowed due to CSP\n}\n\n// RHL needs setPrototypeOf to operate Component inheritance, and eval to patch methods\nvar platformSupported = !!Object.setPrototypeOf && evalAllowed;\n\nif (!module.hot || process.env.NODE_ENV === 'production' || !platformSupported) {\n  if (module.hot) {\n    // we are not in prod mode, but RHL could not be activated\n    console.warn('React-Hot-Loaded is not supported in this environment');\n  }\n  module.exports = require('./dist/react-hot-loader.production.min.js');\n} else {\n  module.exports = require('./dist/react-hot-loader.development.js');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-hot-loader/index.js\n// module id = 0\n// module chunks = 4","/**\n * 按需加载\n * react-router 2.0 关键的函数是 require.ensure()\n * react-router 4.0 放弃 require.ensure()，选择了 bundle-loader 简便的方式\n */\nimport React, { Component } from 'react';\n\nclass Bundle extends Component {\n  state = {\n    // short for \"module\" but that's a keyword in js, so \"mod\"\n    mod: null\n  }\n\n  componentWillMount() {\n    this.load(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.load !== this.props.load) {\n      this.load(nextProps);\n    }\n  }\n\n  load(props) {\n    this.setState({\n      mod: null\n    });\n\n    props.load((mod) => {\n      this.setState({\n        // handle both as es imports and cjs\n        mod: mod.default ? mod.default : mod\n      })\n    })\n  }\n\n  render() {\n    return this.props.children(this.state.mod)\n  }\n}\n\nexport default Bundle;\n\n\n// WEBPACK FOOTER //\n// src/router/Bundle.js","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../node_modules/babel-loader/lib/index.js!./Home.js\"));\n\t}, \"home\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bundle-loader?lazy&name=home!./src/pages/Home/Home.js\n// module id = 102\n// module chunks = 4","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../node_modules/babel-loader/lib/index.js!./Page1.js\"));\n\t}, \"page1\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bundle-loader?lazy&name=page1!./src/pages/Page1/Page1.js\n// module id = 103\n// module chunks = 4","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../node_modules/babel-loader/lib/index.js!./Counter.js\"));\n\t}, \"counter\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bundle-loader?lazy&name=counter!./src/pages/Counter/Counter.js\n// module id = 104\n// module chunks = 4","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../node_modules/babel-loader/lib/index.js!./UserInfo.js\"));\n\t}, \"userInfo\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bundle-loader?lazy&name=userInfo!./src/pages/UserInfo/UserInfo.js\n// module id = 105\n// module chunks = 4","/* 通过 action 创建函数 counter */\nexport const INCREMENT = \"counter/INCREMENT\";\nexport const DECREMENT = \"counter/DECREMENT\";\nexport const RESET = \"counter/RESET\";\n\nexport function increment() {\n  return {type: INCREMENT}\n}\n\nexport function decrement() {\n  return {type: DECREMENT}\n}\n\nexport function reset() {\n  return {type: RESET}\n}\n\n\n// WEBPACK FOOTER //\n// src/redux/actions/counter.js","/* 通过 action 创建函数 userInfo */\nexport const GET_USER_INFO_REQUEST = \"userInfo/GET_USER_INFO_REQUEST\";\nexport const GET_USER_INFO_SUCCESS = \"userInfo/GET_USER_INFO_SUCCESS\";\nexport const GET_USER_INFO_FAIL = \"userInfo/GET_USER_INFO_FAIL\";\n\nfunction getUserInfoRequest() {\n  return {\n    type: GET_USER_INFO_REQUEST\n  }\n}\n\nfunction getUserInfoSuccess(userInfo) {\n  return {\n    type: GET_USER_INFO_SUCCESS,\n    userInfo\n  }\n}\n\nfunction getUserInfoFail() {\n  return {\n    type: GET_USER_INFO_FAIL\n  }\n}\n\n// 运用 redux-thunk 作为中间件来处理 action 函数\nexport function getUserInfo() {\n  return function(dispatch) {\n    dispatch(getUserInfoRequest());\n\n    return fetch('http://localhost:8080/api/user.json')\n    .then(response => {\n      return response.json()\n    })\n    .then(json => {\n      dispatch(getUserInfoSuccess(json))\n    })\n    .catch(() => {\n      dispatch(getUserInfoFail())\n    })\n  }\n}\n\n\n// WEBPACK FOOTER //\n// src/redux/actions/userInfo.js","/** 1. 普通第一次测试 */\n// document.getElementById('app').innerHTML = \"Webpack works\";\n\n/** 2. 使用 es6 的箭头函数, 看看 Babel 的变异转码效果 */\n// var func = str => {\n//   document.getElementById('app').innerHTML = str;\n// }\n\n// func('use Babel ...');\n\n/** 3. 使用 React  */\n// import React from 'react';\n// import ReactDom from 'react-dom';\n\n// ReactDom.render(\n//   <div>Hello React!</div>,\n//   document.getElementById('app')\n// );\n\n/** 4. 使用 React Component */\n// import React from 'react';\n// import ReactDom from 'react-dom';\n// import Hello from './components/Hello/Hello';\n\n// ReactDom.render(\n//   <Hello></Hello>,\n//   document.getElementById('app')\n// )\n\n/** 5. 使用 React Router */\n// import React from 'react';\n// import ReactDom from 'react-dom';\n// import getRouter from './router/router';\n\n// ReactDom.render(\n//   getRouter(),\n//   document.getElementById('app')\n// );\n\n/** 6. 增加热更新 */\n// import React from 'react';\n// import ReactDom from 'react-dom';\n// import {AppContainer} from 'react-hot-loader';\n// import getRouter from 'router/router';\n\n// /* 初始化 */\n// renderWithHotReload(getRouter());\n\n// /* 热更新 */\n// if (module.hot) {\n//   module.hot.accept('./router/router', () => {\n//     const getRouter = require('./router/router').default;\n//     renderWithHotReload(getRouter());\n//   });\n// }\n\n// function renderWithHotReload(RootElement) {\n//   ReactDom.render(\n//     <AppContainer>\n//       {RootElement}\n//     </AppContainer>,\n//     document.getElementById('app')\n//   );\n// }\n\n/** 7. 增加 Store 全局访问 */\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport {AppContainer} from 'react-hot-loader';\nimport {Provider} from 'react-redux';\nimport store from './redux/store';\n\nimport getRouter from 'router/router';\n\n/* 初始化 */\nrenderWithHotReload(getRouter());\n\n/* 热更新 */\nif (module.hot) {\n  module.hot.accept('./router/router', () => {\n    const getRouter = require('./router/router').default;\n    renderWithHotReload(getRouter());\n  });\n}\n\nfunction renderWithHotReload(RootElement) {\n  ReactDom.render(\n    <AppContainer>\n      <Provider store={store}>\n        {RootElement}\n      </Provider>\n    </AppContainer>,\n    document.getElementById('app')\n  );\n}\n\n\n// WEBPACK FOOTER //\n// src/index.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 5\n// module chunks = 4","\"use strict\";function _interopDefault(e){return e&&\"object\"==typeof e&&\"default\"in e?e.default:e}Object.defineProperty(exports,\"__esModule\",{value:!0});var React=_interopDefault(require(\"react\")),classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},inherits=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t},AppContainer=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,e.apply(this,arguments))}return inherits(t,e),t.prototype.render=function(){return React.Children.only(this.props.children)},t}(React.Component),hot_prod=function(){return function(e){return e}},areComponentsEqual=function(e,t){return e===t},setConfig=function(){},cold=function(e){return e},configureComponent=function(){};exports.AppContainer=AppContainer,exports.hot=hot_prod,exports.areComponentsEqual=areComponentsEqual,exports.setConfig=setConfig,exports.cold=cold,exports.configureComponent=configureComponent;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-hot-loader/dist/react-hot-loader.production.min.js\n// module id = 52\n// module chunks = 4","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport combineReducers from './reducers.js';\n\nlet store = createStore(combineReducers, applyMiddleware(thunkMiddleware));\n\nexport default store;\n\n\n// WEBPACK FOOTER //\n// src/redux/store.js","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/redux-thunk/es/index.js\n// module id = 72\n// module chunks = 4","/**\n * 产生一个整体的 Reducer 函数\n */\n// import counter from 'reducers/counter';\n// import userInfo from 'reducers/userInfo';\n\n// export default function combineReducers(state = {}, action) {\n//   return {\n//     counter: counter(state.counter, action),\n//     userInfo: userInfo(state.userInfo, action)\n//   }\n// }\n\n// 优化combineReducers - 使用 redux 提供的一个 combineReducers 函数合并 reducer\nimport { combineReducers } from 'redux';\n\nimport counter from 'reducers/counter';\nimport userInfo from 'reducers/userInfo';\n\nexport default combineReducers ({\n  counter,\n  userInfo\n})\n\n\n// WEBPACK FOOTER //\n// src/redux/reducers.js","/* reducer 是一个纯函数，接收 action 和旧的 state， 生成新的 state */\nimport { INCREMENT, DECREMENT, RESET } from 'actions/counter';\n\n/**\n * 初始化 state\n */\nconst initState = {\n  count: 0\n}\n\n/**\n * reducer\n */\nexport default function reducer(state = initState, action) {\n  switch(action.type) {\n    case INCREMENT: \n    return {\n      count: state.count + 1\n    }\n    case DECREMENT: \n    return {\n      count: state.count - 1\n    }\n    case RESET: \n    return {\n      count: 0\n    }\n    default:\n    return state\n    \n  }\n}\n\n\n// WEBPACK FOOTER //\n// src/redux/reducers/counter.js","import { GET_USER_INFO_REQUEST, GET_USER_INFO_SUCCESS, GET_USER_INFO_FAIL } from 'actions/userInfo';\n\nconst initState = {\n  isLoading: false,\n  userInfo: {},\n  errorMsg: ''\n}\n\nexport default function reducer(state = initState, action) {\n  switch(action.type) {\n    case GET_USER_INFO_REQUEST:\n    return {\n      ...state,\n      isLoading: true,\n      userInfo: {},\n      errorMsg: ''\n    }\n    case GET_USER_INFO_SUCCESS:\n    return {\n      ...state,\n      isLoading: false,\n      userInfo: action.userInfo,\n      errorMsg: ''\n    }\n    case GET_USER_INFO_FAIL:\n    return {\n      ...state,\n      isLoading: false,\n      userInfo: {},\n      errorMsg: '请求错误'\n    }\n    default:\n    return state;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// src/redux/reducers/userInfo.js","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';\n\nimport Bundle from './Bundle';\n\nimport Home from 'bundle-loader?lazy&name=home!pages/Home/Home';\nimport Page1 from 'bundle-loader?lazy&name=page1!pages/Page1/Page1';\nimport Counter from 'bundle-loader?lazy&name=counter!pages/Counter/Counter';\nimport UserInfo from 'bundle-loader?lazy&name=userInfo!pages/UserInfo/UserInfo';\n\nconst Loading = function() {\n  return <div>Loading...</div>\n}\n\nconst createComponent = (component) => (props) => (\n  <Bundle load={component}>\n    {\n      (Component) => Component ? <Component {...props} /> : <Loading />\n    }\n  </Bundle>\n)\n\nconst getRouter = () => (\n  <Router>\n    <div>\n      <ul>\n        <li><Link to=\"/\">首页</Link></li>\n        <li><Link to=\"/page1\">Page1</Link></li>\n        <li><Link to=\"/counter\">Counter</Link></li>\n        <li><Link to=\"/userinfo\">UserInfo</Link></li>\n      </ul>\n      <Switch>\n        <Route exact path=\"/\" component={createComponent(Home)}/>\n        <Route path=\"/page1\" component={createComponent(Page1)}/>\n        <Route path=\"/counter\" component={createComponent(Counter)}/>\n        <Route path=\"/userinfo\" component={createComponent(UserInfo)}/>\n      </Switch>\n    </div>\n  </Router>\n);\n\n\nexport default getRouter;\n\n\n// WEBPACK FOOTER //\n// src/router/router.js"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACfA;AACA;;;;;;;;;;;;;;;AANA;;;;;;;AAOA;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;;;;;AAKA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AACA;AACA;;;;;;;;;;;AA/BA;AACA;AAiCA;;;;;;;;;;;;;AAlCA;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACCA;AAIA;AAIA;AACA;;;;;;;AAdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAdA;AACA;AACA;AAEA;AAIA;AAIA;;;;;;;;;;;;;;;;;;ACYA;AACA;;;;;;;AA1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AAvCA;AACA;AACA;AAEA;AAMA;AAOA;AAOA;;;;;;;;;;;;;;;;;;;;;;;ACyCA;AACA;;;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;AACA;AACA;;;;;;;;;AAzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAOA;;;;;;;;;;;;AATA;;;;;;;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACrBA;;;;;;;;;;;;;;;ACAA;AACA;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;AACA;AACA;;;;;;;;;;;;;AAFA;;;;;;;;;;;;;;ACJA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;;;AAAA;AACA;;;;;;;;;AAlBA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AAbA;AACA;;;;;AAFA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AAEA;;;AAJA;AAOA;AAAA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AAfA;AAiBA;;;;;;;;;;;;AAzBA;AAOA;;;;;;;;;;;;;;;;;;;;;ACLA;AACA;AATA;AACA;;;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAvBA;AAyBA;;;;;;;;;;;;AAhCA;AAMA;;;;;;;;;;;;;;;;;;;ACRA;AACA;;;AAAA;AACA;AACA;AACA;;;AACA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAFA;AADA;AAAA;AACA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAPA;AADA;AADA;AACA;AAmBA;;;;;;;;;;;;;AAhCA;AAIA;AAQA;;;;;;;;;;A","sourceRoot":""}